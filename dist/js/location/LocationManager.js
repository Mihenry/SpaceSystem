define(["../utils/Tools"],function(e){var n=new e,i=function(){var e=viewer.scene,i=this;this.locationHandler=new Cesium.ScreenSpaceEventHandler(e.canvas);var t=e.globe.ellipsoid;$("#openLocation").click(function(){i.locationHandler=new Cesium.ScreenSpaceEventHandler(e.canvas),$("#descriptionPanel").show(),$("#description").html("<div>经度：<span id='lngLoc' style='margin:3px;text-align: center'></span><br>纬度：<span id='latLoc' style='margin:3px;text-align: center'></span><br>时刻：<span id='timeLoc' style='margin:3px;text-align: center'></span><br></div>"),console.log("打开定位"),i.locationHandler.setInputAction(function(i){var o=getPosition(i),a=(e.pick(o),viewer.camera.pickEllipsoid(o,t)),c=n.cartesianToCoords(t,a);$("#lngLoc").html(c.longitude),$("#latLoc").html(c.latitude),$("#timeLoc").html(new Date)},Cesium.ScreenSpaceEventType.LEFT_DOWN)}),$("#closeLocation").click(function(){i.locationHandler.isDestroyed()||i.locationHandler.destroy(),$("#descriptionPanel").hide(),console.log("关闭定位")})};return i.prototype.destroy=function(e){this.locationHandler.isDestroyed()||(this.locationHandler.destroy(),$("#descriptionPanel").hide())},i});